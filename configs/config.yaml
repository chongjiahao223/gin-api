app:
  name: "gin-api"
  version: "1.0.0"
  env: "development"  # development / production / test
  mode: "debug"
server:
  port: 8081
  read_timeout: 30
  write_timeout: 30
  idle_timeout: 60
database:
  driver: mysql
  host: localhost
  port: 3311
  username: root
  password: secret
  dbname: topka_production
  charset: utf8mb4
  parseTime: true
  loc: Local
  max_idle_conns: 10
  max_open_conns: 100
  connMaxLifetime: 3600 # 秒
  conn_max_idle_time: 1800 # 秒
redis:
  host: "127.0.0.1"
  port: 6377
  password: ""                 # 生产环境建议设置
  db: 0
  pool_size: 20                # 推荐：CPU 核数 * 10
  min_idle_conns: 5
  max_retries: 3               # 重试 3 次
  dial_timeout: 5              # 秒
  read_timeout: 3
  write_timeout: 3
  pool_timeout: 5
  idle_timeout: 300            # 5 分钟，防止长期空闲连接被防火墙断开
asynq:
  redis_host: "127.0.0.1"
  redis_port: 6377
  redis_password: ""
  redis_db: 1                     # 与业务 Redis 分开
  worker_concurrency: 10          # 每个 worker 并发数
  queues:                         # 队列优先级（数字越高优先级越高）
    critical: 6
    default: 3
    low: 1
asynqmon:                     # 新增：监控面板配置
  enabled: true               # 是否启用 Web UI
  http_addr: 8002          # 监听端口（可自定义）
log:
  level: "debug"              # debug / info / warn / error
  format: "json"              # json / console
  output: "file"            # stdout / file
  path: "/opt/logs"
  file_max_size: 0          # 关键：0 表示不按大小切割
  file_max_backups: 0       # 关键：0 表示不限制备份数量
  file_max_age: 90           # 关键：0 表示不按年龄删除
  compress: true           # 可选：不压缩（节省 CPU）
  local_time: true          # 仍然按天拆分文件名（推荐保留）